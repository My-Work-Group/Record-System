<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.project.record.caseFile.mapper.CaseFileMapper">


    <!--    笔录-->
    <resultMap type="CaseFile" id="CaseRecordResult">
        <association property="caseInfo" column="case_id" javaType="CaseInfo" resultMap="CaseInfoResult"/>
        <association property="overload" column="overload_id" javaType="Overload" resultMap="OverloadResult"/>
    </resultMap>

    <!--    案件信息-->
    <resultMap type="CaseInfo" id="CaseInfoResult">
        <id property="caseId" column="case_id"/>
        <result property="caseNumber" column="case_number"/>
        <result property="createTime" column="create_time"/>
        <result property="caseObject" column="case_object"/>
        <result property="vehPlateNum" column="veh_plate_Num"/>
    </resultMap>

    <!--    &lt;!&ndash;    车辆信息&ndash;&gt;-->
    <!--    <resultMap id="VehicleResult" type="Vehicle">-->
    <!--        <id property="vehId" column="veh_id"/>-->
    <!--        <result property="vehPlateNum" column="veh_plate_Num"/>-->
    <!--        <result property="vehPlateColor" column="veh_plate_color"/>-->
    <!--        <result property="vehAxleNum" column="veh_axes"/>-->
    <!--        <result property="vehType" column="veh_type"/>-->
    <!--        <result property="personId" column="person_id"/>-->
    <!--        <result property="companyId" column="company_id"/>-->
    <!--        <association property="overload" column="veh_plate_Num" javaType="Overload" resultMap="OverloadResult"/>-->
    <!--        <association property="person" column="person_id" javaType="Person" resultMap="PersonResult"/>-->
    <!--        <association property="company" column="company_id" javaType="Company" resultMap="CompanyResult"/>-->
    <!--    </resultMap>-->

    <!--    &lt;!&ndash;    个人信息&ndash;&gt;-->
    <!--    <resultMap id="PersonResult" type="Person">-->
    <!--        <id property="personId" column="person_id;"/>-->
    <!--        <result property="personName" column="person_name"/>-->
    <!--        <result property="age" column="age"/>-->
    <!--        <result property="sex" column="sex"/>-->
    <!--        <result property="numberId" column="number_id"/>-->
    <!--        <result property="personPhone" column="person_phone"/>-->
    <!--        <result property="homeAddress" column="company_phone"/>-->
    <!--        <result property="workUnit" column="work_unit"/>-->
    <!--        <result property="contactAddress" column="contact_address"/>-->
    <!--        <result property="post" column="post"/>-->
    <!--    </resultMap>-->

    <!--    &lt;!&ndash;    公司信息&ndash;&gt;-->
    <!--    <resultMap id="CompanyResult" type="Company">-->
    <!--        <id property="companyId" column="company_id;"/>-->
    <!--        <result property="companyName" column="company_name"/>-->
    <!--        <result property="creditCode" column="credit_code"/>-->
    <!--        <result property="directorName" column="director_name "/>-->
    <!--        <result property="companyAddress" column="company_address"/>-->
    <!--        <result property="companyPhone" column="company_phone"/>-->
    <!--    </resultMap>-->

    <!--    超限信息-->
    <resultMap id="OverloadResult" type="Overload">
        <id property="overloadId" column="overload_id;"/>
        <result property="vehPlateNum" column="veh_plate_num"/>
        <result property="checkTime" column="check_time"/>
        <result property="checkSite" column="check_site"/>
        <result property="totalWeight" column="total_weight"/>
        <result property="outWeight" column="out_weight"/>
        <result property="goods" column="goods"/>
        <result property="loadTime" column="load_time"/>
        <result property="loadSite" column="load_site"/>
        <result property="dest" column="dest"/>
    </resultMap>

<!--    <select id="selectRecordList" parameterType="CaseFile" resultMap="CaseFileResult">-->
    <select id="selectRecordList"  resultMap="CaseRecordResult">
        select c.case_id, c.case_number, c.case_object,c.create_time, c.veh_plate_num,
        o.check_time, o.check_site, o.total_weight, o.out_weight
        from rec_offsite_case c join rec_offsite_overload o
        on c.case_id = o.overload_id
    </select>

</mapper>